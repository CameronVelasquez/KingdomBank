<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./assets/img/Logo.PNG" type="image/x-icon">
    <link rel="stylesheet" href="./assets/styleB.css">

    <!-- FONT AWESOME --> 
    <script src="https://kit.fontawesome.com/0a7fe4ea11.js" crossorigin="anonymous"></script>

    <!-- BOOTSTRAP  -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>Kingdom Bank | Accounts</title>

    <!-- POPPERJS -->
    
</head>
<body>
    <div id="app">
        <header class="sticky-top">
            <div class="bg-header overlay-mobile" >
                <nav class="navbar navbar-expand-lg" data-bs-theme="dark">
                    <div class="container-fluid ">
                      <a class="navbar-brand logo fw-bold" href="#"><img id="logo" src="./assets/img/Logo.PNG" alt="Logo" >Kingdom Bank</a>
                      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                      </button>
                      <div class="collapse navbar-collapse justify-content-end navbarNav" id="navbarNav">
                        <ul class="navbar-nav">
                          <hr>
                          <li class="nav-item welcome-toggler">
                                <a class="nav-link nav-link-toggler">Welcome ,</a>
                                <h6>{{objectClient.firstName + " " + objectClient.lastName}}</h6>
                                <h6>{{objectClient.email}}</h6>
                                <a @click="logOut" class="btn btn-secondary w-50">Log Out!</a>
                          </li>
                          <li class="nav-item welcome-expand">
                            <a class="nav-link">Welcome, {{objectClient.firstName + " " + objectClient.lastName}} <i class="fa-solid fa-hand"></i> !</a>
                      </li>
                          <hr>
                          <li class="nav-item">
                            <a class="nav-link link-hover nav-link-toggler fw-bold text-secondary-emphasis" aria-current="page" href="#">Accounts</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link link-hover nav-link-toggler" aria-current="page" href="./cards.html">Cards</a>
                          </li >
                          <li class="nav-item">
                            <a  class="nav-link link-hover nav-link-toggler" aria-current="page" :href='"account.html?id="+transactionId'>Your transactions</a>
                          </li>
                          <hr>
                          <li class="nav-item">
                            <a class="nav-link welcome-toggler " aria-current="page" href="#">Contact account executive</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link welcome-toggler " href="#">Change Your Password</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link welcome-toggler " href="#">Block card</a>
                          </li>
                          <hr>
                          <li class="nav-item">
                            <a class="nav-link welcome-toggler " href="#">FAQ</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </nav>
            </div>
        </header >
        
        <main class="d-flex flex-column gap-5">
          <div class="d-flex flex-row section-advertise">
            <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="./assets/img/automotive.png" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="./assets/img/mortgage.png" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="./assets/img/creditcards.png" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="./assets/img/loans.png" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="./assets/img/healthcare.png" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="./assets/img/creditcardb.png" class="d-block w-100" alt="...">
                </div>
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
            </div>
          </div>
            <div class="d-flex flex-row">
              <section class="sidenav">
                <div class="sidenav-header overlay">
                  <h3 class="sideTitle fw-bold">What we wanna do?</h3>
                </div>                
                <nav class="nav flex-column sidebarNav sidenav-body">
                  
                  <a class="nav-link" href="#">Update Profile</a>
                  <a class="nav-link" href="#">Transfer</a>
                  <hr v-if="accounts.length < 3" >
                  <div v-if="accounts.length < 3" class=" addNew ">
                    <a @click="createAccounts"  class="btn addButton w-60">Add Account</a> 
                  </div>
                  <div class="addNew mt-2"><a class="btn addButton w-60" href="./transfers.html">Transfer money</a>   </div>             
                  <hr >
                  <a class="nav-link" href="#">Pay Services</a>
                  <a class="nav-link" href="#">Pay Insurances</a>
                  <a class="nav-link" href="#" >Pay Cards</a>
                  <hr>
                  <a class="nav-link" href="#">Contact your account executive</a>
                  <a class="nav-link" href="#">Contact Us!</a>
                  <a class="nav-link" href="#">FAQ</a>
                  <hr>
                  <div class="logOut d-flex flex-column justify-content-end align-items-center "><a @click="logOut" class="btn overlay w-50">Log Out!</a></div>
                  
                </nav>
              </section>
              
              <div class="d-flex flex-column aside-sidenav" >          
                <section class="accountCard-section main-sections">
                  <h2>Accounts:</h2>
                  <div id="carouselExample" class="carousel" data-bs-theme="light">
                    <div class="carousel-inner ">
                      <div class="carousel-item active text-center " v-for="account of accounts">
                        <div class="card card-account">
                          <div class="card-header">
                            {{objectClient.firstName}}'s' Account: {{account.number}}
                          </div>
                          <div class="card-body ">
                            <h5 class="card-title fw-bold">{{account.balance.toFixed(2)}} USD</h5>
                            <p class="card-text">{{objectClient.firstName}}, the current balance on this account is: ${{account.balance.toFixed(2)}} USD. To see all your transactions click below.</p>
                            <a :href='"./account.html?id="+account.id' class="btn overlay">Check account</a>
                            <hr>
                          
                            <div class="last-transactions">
                        
                              <button class="overlayB navbar-toggler d-flex justify-content-between options" type="button" data-bs-toggle="collapse" :data-bs-target="'#table'+account.id" aria-controls="collapsable-btn" aria-expanded="false" aria-label="Toggle navigation">
                              <!-- aqui icono flecha -->
                              <p class="options-paragraphs fw-semibold">Last Transactions</p>
                              <i class="fa-solid fa-caret-down"></i>
                              </button>
                              <div class="collapse navbar-collapse justify-content-end" :id="'table'+account.id">
                                <table class="table table-hover last-transactions-table">
                                  
                                  <thead>
                                    <th>Amount</th>
                                    <th>Date</th>
                                    <th>Description</th>
                                  </thead>
                                  <tbody  v-for="transaction of account.transactions.slice(0, 3)">
                                    <td v-if="transaction.type == 'CREDIT'" style="color: rgb(74, 223, 0);">{{transaction.amount.toFixed(2)}} USD</td>
                                    <td v-else style="color:red">{{transaction.amount.toFixed(2)}} USD</td>
                                    <td>{{transaction.date.split("T")[0]}} USD</td>
                                    <td>{{transaction.description}}</td>
                                    <td v-if="transaction.type == 'DEBIT'" style="color: green;"><i class="fa-solid fa-arrow-up"></i></td>
                                    <td v-else style="color:red"><i class="fa-solid fa-arrow-down"></i></td>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                      <span class="" aria-hidden="true"><i class="fa-solid fa-chevron-left next-prev-icon"></i></span>
                      
                      <span class="visually-hidden ">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                      <span aria-hidden="true"><i class="fa-solid fa-chevron-right next-prev-icon"></i></span>
                      <span class="visually-hidden">Next</span>
                    </button>
                  </div>
                </section>
                <section class="dropdown-menues main-sections">
                  <h2>Loans:</h2>
                  <nav class="button" >
                    <div>
                      
                      <button class="navbar-toggler d-flex justify-content-between options overlay" type="button" data-bs-toggle="collapse" data-bs-target="#collapsable-btn-2" aria-controls="collapsable-btn-2" aria-expanded="false" aria-label="Toggle navigation">
                       <div class="d-flex flex-row"> <p class="options-paragraphs fw-semibold">Your Loans </p> <p>(click here)</p></div>
                        <!-- aqui icono flecha -->
                      <i class="fa-solid fa-caret-down"></i>
                      </button>
                      <div v-if="loans.length > 0" class=" collapse navbar-collapse justify-content-end" id="collapsable-btn-2">
                        <ul class="navbar-nav">
                          <li class="nav-item"  v-for="loan of loans">                        
                                <a title="clic here"  class="nav-link collapsable-link d-flex justify-content-between loan-btn" data-bs-toggle="modal" :data-bs-target='"#exampleModal"+loan.id'>{{loan.name.toUpperCase()}}<i data-bs-toggle="mssg" title="Open for more info about your Loan" class="fa-solid fa-circle-info" ></i></a>
                                <div class="modal fade" :id='"exampleModal"+loan.id' tabindex="-1" :aria-labelledby='"exampleModalLabel"+loan.id' aria-hidden="true">
                                  <div class="modal-dialog">
                                    <div class="modal-content">
                                      <div class="modal-header">
                                        <button type="button" class="btn overlay">{{loan.name.toUpperCase()}}</button>
                                      </div>
                                      <div class="modal-body">
                                        <h1 class="modal-title fs-5" :id='"exampleModalLabel"+loan.id'>Loan info:</h1>
                                        <ul>
                                          <li>Required amount: {{loan.amount.toFixed(2)}}USD</li>
                                          <li>in {{loan.payments}} payments</li>
                                          <li>loan id: #{{loan.id}}</li>
                                        </ul>
                                      </div>
                                      <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link collapsable-link" href="#">More Info.</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link collapsable-link" href="#">Any other questions? Please contact us!</a>
                          </li>
                        </ul>
                      </div>
                    <!-- V-ELSE -->
                      <div v-else class="collapse navbar-collapse justify-content-end" id="collapsable-btn-2">
                          <ul class="navbar-nav">
                          <li class="nav-item">
                            <a class="nav-link collapsable-link">Request.</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link collapsable-link" aria-current="page" href="#">Requirements.</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link collapsable-link" href="#">More Info.</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link collapsable-link" href="#">Any other questions? Please contact us!</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </nav>
                    </section>
                <section class="dropdown-menues main-sections">
                  <h2>Invertions:</h2>
                  <nav class="button" >
                      <div>
                        
                        <button class="navbar-toggler d-flex justify-content-between options overlay" type="button" data-bs-toggle="collapse" data-bs-target="#collapsable-btn" aria-controls="collapsable-btn" aria-expanded="false" aria-label="Toggle navigation">
                          <div class="d-flex flex-row"> <p class="options-paragraphs fw-semibold">Your Invertions </p> <p>(click here)</p></div>
                          <!-- aqui icono flecha -->
                        <i class="fa-solid fa-caret-down"></i>
                        </button>
                        <div class="collapse navbar-collapse justify-content-end" id="collapsable-btn">
                          <ul class="navbar-nav">
                            <li class="nav-item">
                                  <a class="nav-link collapsable-link">Request.</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link collapsable-link" aria-current="page" href="#">Requirements.</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link collapsable-link" href="#">More Info.</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link collapsable-link" href="#">Any other questions? Please contact us!</a>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </nav>
                </section>
                <section class="dropdown-menues main-sections">
              <h2>Insurances:</h2>
              <nav class="button" >
                <div>
                  
                  <button class="navbar-toggler d-flex justify-content-between options overlay" type="button" data-bs-toggle="collapse" data-bs-target="#collapsable-btn-3" aria-controls="collapsable-btn-3" aria-expanded="false" aria-label="Toggle navigation">
                    <div class="d-flex flex-row"> <p class="options-paragraphs fw-semibold">Your Insurances </p> <p>(click here)</p></div>
                    <!-- aqui icono flecha -->
                  <i class="fa-solid fa-caret-down"></i>
                  </button>
                  <div class="collapse navbar-collapse justify-content-end" id="collapsable-btn-3">
                    <ul class="navbar-nav">
                      <li class="nav-item">
                            <a class="nav-link collapsable-link">Request.</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link collapsable-link" aria-current="page" href="#">Requirements.</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link collapsable-link" href="#">More Info.</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link collapsable-link" href="#">Any other questions? Please contact us!</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </nav>
                </section>
              </div>

            </div>
        </main>
        <footer >
            <nav>
              <div class="footer">
                <div class="contain">
                <div class="col">
                  <h1 class=" fw-bold">Company</h1>
                  <ul>
                    <li>About</li>
                    <li>Mission</li>
                    <li>Services</li>
                    <li>Social</li>
                    <li>Get in touch</li>
                  </ul>
                </div>
                <div class="col">
                  <h1 class=" fw-bold">Products</h1>
                  <ul>
                    <li>HB GOLD</li>
                    <li>HB SILVER</li>
                    <li>HB TITANIUM</li>
                    <li>AppBanKing app</li>
                    <li>HB PREMIUM PASS</li>
                  </ul>
                </div>
                <div class="col">
                  <h1 class=" fw-bold">Accounts</h1>
                  <ul>
                    <li>Your Accounts</li >
                    <li>Open new!</li>
                    <li>Add Card</li>
                    <li>Update</li>
                    <li>Edit</li>
                  </ul>
                </div>
                <div class="col">
                  <h1 class=" fw-bold">Navigation</h1>
                  <ul>
                    <li>Accounts</li>
                    <li>Services</li>
                    <li>Insurances</li>
                    <li>Cards</li>
                    <li>Contact your account executive</li>
                    <li>FAQ</li>
                  </ul>
                </div>
                <div class="col">
                  <h1 class=" fw-bold">Support</h1>
                  <ul>
                    <li>Contact us</li>
                    <li>Web chat</li>
                    <li>Open ticket</li>
                  </ul>
                </div>
                <div class="col social">
                  <h1 class=" fw-bold">Social</h1>
                  <ul>
                    <li><a href="https://www.facebook.com/" class="rrss"><i class="fa-brands fa-facebook"></i></a></li>
                    <li><a href="https://twitter.com/" class="rrss"><i class="fa-brands fa-twitter"></i></a></li>
                    <li><a href="https://www.instagram.com/" class="rrss"><i class="fa-brands fa-instagram"></i></a></li>
                  </ul>
                </div>
            </nav>
            <nav class="overlay2 footer-mobile">
                <ul class="nav ">
                    <li class="items-footer">
                      <i class="fa-solid fa-file-invoice-dollar"></i>
                      <a class="nav-link font" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="items-footer separation">
                      <i class="fa-solid fa-right-left"></i>
                      <a class="nav-link font" href="#">Transfer</a>
                    </li>
                    <li class="items-footer separation text-center">
                      <i class="fa-solid fa-qrcode"></i>
                      <a class="nav-link font" href="#">QR</a>
                    </li>
                    <li class="items-footer separation">
                      <i class="fa-solid fa-file-invoice-dollar"></i>
                      <a class="nav-link font">Accounts</a>
                    </li>
                    <li class="items-footer separation">
                        <i class="fa-solid fa-triangle-exclamation"></i>
                        <a class="nav-link font">Emergency</a>
                      </li>
                  </ul>
            </nav>
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="./js/accounts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="mssg"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    </script>
</body>
</html>